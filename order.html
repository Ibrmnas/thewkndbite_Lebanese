<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Order • The Weekend Bite</title>
  <meta name="description" content="Build your order in an Excel-style grid and submit it to our system." />
  <meta name="theme-color" content="#9a1a12" />
  <link rel="icon" href="assets/img/logo.svg" type="image/svg+xml">

  <!-- type + icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- DESIGN -->
  <style>
/* ===========================
   Tokens / Reset
=========================== */
:root{
  --bg:#fff8f6; --panel:#ffffff; --ink:#1f2328; --muted:#5b5b5b;
  --brand:#9a1a12; --brand-2:#f1c22e; --border:#eee;
  --radius:18px; --shadow:0 14px 36px rgba(10,10,10,.08);

  /* form tokens */
  --fld-bg:#fff; --fld-ink:#1e1e1e; --fld-muted:#828282; --fld-bd:#e6dcdc;
  --fld-focus:#9a1a12; --fld-ring:rgba(154,26,18,.16);
  --fld-err:#d83a3a; --fld-err-ring:rgba(216,58,58,.14);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--ink)}
a{color:var(--brand);text-decoration:none}
img{max-width:100%;display:block}
.container{width:min(1140px,92%);margin:0 auto}

/* ===========================
   Header
=========================== */
header{position:sticky;top:0;z-index:30;background:rgba(255,255,255,.72);backdrop-filter:blur(10px);border-bottom:1px solid var(--border)}
.nav{display:flex;align-items:center;justify-content:space-between;padding:12px 0;gap:12px}
.brand{display:flex;align-items:center;gap:10px;font-weight:900}
.brand .logo{width:36px;height:36px;border-radius:12px;box-shadow:var(--shadow)}
.navlinks{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.navlinks a{padding:8px 12px;border-radius:999px;font-weight:700;color:#343434}
.navlinks a.active{background:rgba(154,26,18,.10)}
.lang{display:flex;gap:6px;align-items:center}
.lang button{border:1px solid #ddd;background:#fff;padding:6px 10px;border-radius:999px;cursor:pointer;font-weight:800}
.lang button.active{background:var(--brand);color:#fff;border-color:var(--brand)}

/* ===========================
   Hero
=========================== */
.hero{position:relative;padding:28px 0 10px}
.hero .panel{
  background:linear-gradient(135deg,#fff 0%,#fff1ed 85%);
  border:1px solid #f1e6e3;border-radius:24px;padding:28px;box-shadow:var(--shadow)
}
h1{font-family:Poppins,Inter;font-size:clamp(32px,4.2vw,56px);line-height:1.05;margin:2px 0 10px}
.kicker{font-size:.85rem;font-weight:900;letter-spacing:.14em;text-transform:uppercase;color:#a16a62}
.tagline{font-size:clamp(15px,2vw,18px);color:var(--muted);margin:10px 0 18px}
.chips{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.chip{background:#fff;border:1px dashed #ead7d3;padding:10px 16px;border-radius:999px;font-weight:800;color:#7b4d48}

/* ===========================
   Layout
=========================== */
.section{padding:24px 0 30px}
.grid-main{display:grid;grid-template-columns:1fr 360px;gap:20px}
@media (max-width:900px){.grid-main{grid-template-columns:1fr}}

.order-pane,.side-pane{
  background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);
  padding:18px;box-shadow:var(--shadow)
}
.side-pane{position:sticky;top:96px;height:fit-content}

/* ===========================
   Table (Order)
=========================== */
.table-wrap{background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);overflow:hidden}
table.table{width:100%;border-collapse:collapse}
table.table th,table.table td{padding:12px 10px;border-bottom:1px solid #f1f1f1;text-align:left}
table.table th{background:#fff7f5;font-weight:900}
table.table tfoot td{font-weight:900}

/* Qty stepper */
.qty-wrap{display:inline-grid;grid-template-columns:36px minmax(80px,1fr) 36px;gap:8px}
.qty-btn{border:1px solid var(--border);background:#fff;border-radius:8px;width:36px;height:36px;display:grid;place-items:center;font-weight:900;cursor:pointer}
.qty-wrap input{height:36px;text-align:center}

/* ===========================
   Inputs by type (explicit)
=========================== */
:where(input[type="text"],input[type="email"],input[type="tel"],input[type="number"],textarea,select){
  width:100%;background:var(--fld-bg);color:var(--fld-ink);
  border:1.5px solid var(--fld-bd);border-radius:12px;outline:none;
  padding:12px 14px;font-size:15px;transition:.15s border-color,.15s box-shadow
}
select{height:46px}
input[type="number"]{text-align:right}
input[type="number"][readonly]{background:#fbf7f8;color:#6a6a6a}
:where(input[type="text"],input[type="email"],input[type="tel"],input[type="number"],textarea,select):focus{
  border-color:var(--fld-focus);box-shadow:0 0 0 4px var(--fld-ring)
}
:where(input[type="text"],input[type="email"],input[type="tel"],input[type="number"]):invalid{
  border-color:var(--fld-err);box-shadow:0 0 0 4px var(--fld-err-ring)
}

/* Hide native number spinners */
input[type="number"]{appearance:textfield;-moz-appearance:textfield}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}

/* Floating label wrapper (works for all input types) */
.fl{position:relative;margin:6px 0}
.fl input,.fl textarea{padding-top:16px}
.fl label{
  position:absolute;left:14px;top:50%;transform:translateY(-50%);
  background:transparent;color:var(--fld-muted);padding:0 6px;pointer-events:none;transition:.15s;font-size:.98rem
}
.fl input::placeholder,.fl textarea::placeholder{color:transparent}
.fl input:focus + label,.fl input:not(:placeholder-shown) + label,
.fl textarea:focus + label,.fl textarea:not(:placeholder-shown) + label{
  top:-8px;transform:none;font-size:.78rem;font-weight:900;color:var(--brand);background:#fff
}

/* ===========================
   Notices & Actions
=========================== */
.notice{display:flex;gap:10px;align-items:center;background:#fff;border:1px dashed #ead7d3;border-radius:12px;padding:12px 14px;margin:4px 0 10px;color:#7b4d48}
.actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
.btn{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--border);border-radius:12px;background:#fff;padding:10px 14px;font-weight:900;cursor:pointer}
.btn.primary{background:var(--brand);color:#fff;border-color:var(--brand)}
.order-count{background:var(--brand);color:#fff;border-radius:999px;padding:2px 8px;font-size:.8rem;font-weight:800;margin-left:6px}

/* ===========================
   Side tips
=========================== */
.tip{background:#fff;border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:14px}
.tip h3{margin:0 0 8px;font-size:18px;display:flex;gap:8px;align-items:center}
.slots-list{margin:8px 0 0 0;padding-left:18px}

/* ===========================
   Responsive table → cards
=========================== */
@media (max-width:640px){
  .table-wrap{overflow:visible;box-shadow:none}
  table.table thead{display:none}
  table.table tbody tr{
    display:grid;grid-template-columns:1fr 1fr;gap:10px 12px;
    background:#fff;border:1px solid var(--border);border-radius:12px;padding:12px;margin-bottom:10px
  }
  table.table tbody td{display:flex;flex-direction:column;gap:6px;padding:0;border:0}
  table.table tbody td::before{content:attr(data-label);font-weight:900;font-size:.9rem;color:var(--ink);opacity:.85;margin-bottom:6px}
  table.table tbody td:nth-child(6){grid-column:2;align-self:center;justify-self:end}
  table.table select,table.table input{height:40px;border-radius:10px}
  .qty-wrap{grid-template-columns:40px 1fr 40px}
  .qty-btn{width:40px;height:40px;border-radius:10px}
}

/* ===========================
   Footer
=========================== */
footer{border-top:1px solid var(--border);padding:22px 0 48px;color:var(--muted);margin-top:24px}
  </style>
</head>

<body>
  <!-- header -->
  <header>
    <div class="container nav">
      <div class="brand">
        <img src="assets/img/logo.svg" alt="The Weekend Bite logo" class="logo" />
        <div>The Weekend Bite</div>
      </div>
      <nav class="navlinks">
        <a href="index.html" data-i18n="nav.home">Home</a>
        <a href="order.html" class="active" data-i18n="nav.order">Order
          <span id="order-count" class="order-count" style="display:none"></span>
        </a>
        <a href="contact.html" data-i18n="nav.contact">Contact</a>
        <a href="faq.html" data-i18n="nav.faq">FAQ</a>
        <a href="about.html" data-i18n="nav.about">About</a>
      </nav>
      <div class="lang">
        <button id="btn-en" class="active" aria-label="English">EN</button>
        <button id="btn-it" aria-label="Italiano">IT</button>
      </div>
    </div>
  </header>

  <!-- hero -->
  <main class="container">
    <section class="hero">
      <div class="panel" role="region" aria-label="Order header">
        <div class="kicker">Weekend Delivery • Torino</div>
        <h1><i class="fas fa-shopping-basket"></i> <span data-i18n="order.grid.title">Order</span></h1>
        <p class="tagline" data-i18n="order.grid.desc">Add items (kg) and submit. We’ll receive it in our system.</p>
        <div class="chips">
          <span class="chip"><i class="fas fa-truck"></i> Delivery: Wed 18–20 • Sat 10–12</span>
          <span class="chip"><i class="fas fa-weight-hanging"></i> 0.5 kg steps</span>
          <span class="chip"><i class="fas fa-lock"></i> Secure submit</span>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="grid-main">
        <!-- LEFT -->
        <section class="order-pane">
          <div class="notice">
            <i class="fas fa-info-circle"></i>
            <span data-i18n="order.minimumOrder">Minimum order: <b>1 kg total</b>. You can split across flavors in <b>0.5 kg</b> (e.g., 0.5 + 0.5).</span>
          </div>

          <div class="table-wrap" style="margin:14px 0">
            <table class="table">
              <thead>
                <tr>
                  <th data-i18n="order.item">Item</th>
                  <th data-i18n="order.price">Price €/kg</th>
                  <th data-i18n="order.qty">Qty (kg)</th>
                  <th data-i18n="order.notes">Notes</th>
                  <th data-i18n="order.total">Price €</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="rows"></tbody>
              <tfoot>
                <tr>
                  <td colspan="4" style="text-align:right"><strong>Items Total €</strong></td>
                  <td><strong id="grand">0.00</strong></td><td></td>
                </tr>
                <tr id="row-delivery-fee" style="display:none">
                  <td colspan="4" style="text-align:right"><strong>Delivery Fee €</strong></td>
                  <td><strong id="delivery-fee">0.00</strong></td><td></td>
                </tr>
                <tr>
                  <td colspan="4" style="text-align:right"><strong>Payable Total €</strong></td>
                  <td><strong id="payable">0.00</strong></td><td></td>
                </tr>
              </tfoot>
            </table>
          </div>

          <div class="actions">
            <button id="add" class="btn primary"><i class="fas fa-plus"></i> <span data-i18n="order.add">Add row</span></button>
            <button id="clear" class="btn"><i class="fas fa-trash"></i> <span data-i18n="order.clear">Clear</span></button>
            <button id="csv" class="btn"><i class="fas fa-file-export"></i> <span data-i18n="order.export">Export CSV</span></button>
          </div>

          <!-- Fulfillment -->
          <h2 style="margin:18px 0 8px">Delivery or Pickup</h2>
          <div class="grid-3" style="grid-template-columns:320px 1fr 1fr;gap:16px">
            <div class="card" style="padding:14px">
              <div class="stack" role="radiogroup" aria-label="Fulfillment mode">
                <label style="display:flex;gap:10px;align-items:center;margin-bottom:8px">
                  <input type="radio" name="fulfillment" id="fulfillment-pickup" value="pickup" checked>
                  <span><b>Pickup</b> (no fee)</span>
                </label>
                <label style="display:flex;gap:10px;align-items:center">
                  <input type="radio" name="fulfillment" id="fulfillment-delivery" value="delivery">
                  <span><b>Delivery</b> (+ €2)</span>
                </label>
                <!-- hidden checkbox preserved for totals compatibility -->
                <input type="checkbox" id="include-delivery" style="display:none" />
              </div>
            </div>

            <div class="card" id="delivery-controls" style="display:none;padding:14px">
              <label for="delivery-slot" style="font-weight:900;margin-bottom:6px;display:block">Delivery slot</label>
              <select id="delivery-slot" aria-label="Choose delivery slot"></select>
              <small class="muted" style="display:block;margin-top:6px">Only Wednesday 18:00–20:00 and Saturday 10:00–12:00. No same-day delivery.</small>
            </div>

            <div class="card" style="padding:14px">
              <div class="fl">
                <input id="c-name" type="text" required placeholder=" ">
                <label for="c-name">Name</label>
              </div>
              <div class="fl">
                <input id="c-phone" type="tel" required placeholder=" ">
                <label for="c-phone">Phone</label>
              </div>
              <div class="fl">
                <input id="c-addr" type="text" required placeholder=" ">
                <label for="c-addr">Address</label>
              </div>
              <div class="fl">
                <input id="c-email" type="email" required autocomplete="email" placeholder=" ">
                <label for="c-email">Email</label>
              </div>
            </div>
          </div>

          <h3 style="margin-top:16px">Notes & Allergies</h3>
          <div class="card" style="margin-top:10px;padding:14px">
            <div class="fl">
              <textarea id="c-notes" placeholder=" "></textarea>
              <label for="c-notes">Notes (optional)</label>
            </div>
            <div class="fl">
              <input id="c-allergies" type="text" placeholder=" ">
              <label for="c-allergies">Allergies (optional)</label>
            </div>
            <input id="hp-field" name="website" type="text" style="display:none" autocomplete="off">
          </div>

          <div class="actions" style="margin-top:14px">
            <button id="place-order" class="btn primary"><i class="fas fa-paper-plane"></i> <span data-i18n="order.sendwa">Place Order</span></button>
          </div>
        </section>

        <!-- RIGHT -->
        <aside class="side-pane" aria-label="Helpful info">
          <div class="tip">
            <h3><i class="fas fa-truck"></i> Delivery & Pickup</h3>
            <p>Delivery in Torino (+€2). Pickup is free.</p>
            <ul id="next-slots" class="slots-list"></ul>
          </div>
          <div class="tip">
            <h3><i class="fas fa-utensils"></i> Portion tips</h3>
            <p>0.5 kg ≈ 2 portions • 1 kg ≈ 4 portions.</p>
          </div>
          <div class="tip">
            <h3><i class="fas fa-snowflake"></i> Storage</h3>
            <p>Keep chilled ≤ 4°C and consume within 3 days, or freeze on delivery day.</p>
          </div>
          <div class="tip">
            <h3><i class="fas fa-clock"></i> Order deadline</h3>
            <p>Place your order by Friday 12:00 for weekend delivery.</p>
          </div>
        </aside>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="muted">© 2025 The Weekend Bite. <span>All rights reserved.</span></div>
    </div>
  </footer>

  <!-- External JS only (no inline JS) -->
  <script src="assets/js/config.js?v=9"></script>
  <script src="assets/js/i18n.dict.js?v=1"></script>
  <script src="assets/js/i18n.js?v=9"></script>
  <script src="assets/js/site.js?v=9"></script>
  <script src="assets/js/backend.js?v=13"></script>
  <script src="assets/js/order.js?v=18"></script>
</body>
</html>
